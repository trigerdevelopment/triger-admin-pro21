
<h2>Movimientos Bancarios</h2>

<app-bank-filter [basecontroller]="basecontroller"></app-bank-filter>
<div class="table-responsive m-t-40" *ngIf="vm$ | async as vm">
  <div id="example23_wrapper" class="dataTables_wrapper">
    <div class="custom-control custom-checkbox">
      <input type="checkbox" readonly class="custom-control-input" id="checkedSelect"
       name="example1" [(ngModel)]="masterSelected" (change)="checkUncheckAll()">
      <label class="custom-control-label" for=checkedSelect>Seleccionar</label>
     </div>
    <div class="dt-buttons"><a class="dt-button buttons-copy buttons-html5" tabindex="0" aria-controls="example23" (click)="create()"><span>Agregar un Movimiento</span></a><a  class="dt-button buttons-csv buttons-html5" tabindex="0" aria-controls="example23" (click)="deleteList()" ><span>Eliminar datos seleccionados</span></a><a class="dt-button buttons-excel buttons-html5" tabindex="0" aria-controls="example23" (click)="mostrarMultipleModal()"><span>Subir archivo Excel</span></a><a class="dt-button buttons-pdf buttons-html5" tabindex="0" aria-controls="example23" href="#"><span>PDF</span></a><a class="dt-button buttons-print" tabindex="0" aria-controls="example23" href="#"><span>Print</span></a></div><div id="example23_filter" class="dataTables_filter"><label>Search:<input type="search" class="" placeholder="" aria-controls="example23"></label></div><table id="example23" class="display nowrap table table-hover table-striped table-bordered dataTable" cellspacing="0" width="100%" role="grid" aria-describedby="example23_info" style="width: 100%;">
    <thead>
     <!-- <tr>

       <div class="custom-control custom-checkbox">
         <input type="checkbox" readonly class="custom-control-input" id="checkedSelect"
          name="example1" [(ngModel)]="masterSelected" (change)="checkUncheckAll()">
         <label class="custom-control-label" for=checkedSelect>Seleccionar</label>
        </div>
      </tr> -->
       <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width:12px;">Id</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 50px;">Fecha</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 114px;">FechaOperacion</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 114px;">Cuenta</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 100px;">Referencia</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 100px;">Movimiento</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 50px;">Depositos</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 50px;">Retiros</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 50px;">Saldo</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 200px;">Descripcion Detallada</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 200px;">Tipo de Gasto</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 200px;">Proveedor</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 200px;">Cliente</th><th class="sorting" tabindex="0" aria-controls="example23" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 200px;">Acciones</th></tr>
      </thead>
      <tfoot>
          <tr><th rowspan="1" colspan="1">Id</th><th rowspan="1" colspan="1">Fecha</th><th rowspan="1" colspan="1">FechaOperacion</th><th rowspan="1" colspan="1">Cuenta</th><th rowspan="1" colspan="1">Referencia</th><th rowspan="1" colspan="1">Movimiento</th><th rowspan="1" colspan="1">Depositos</th><th rowspan="1" colspan="1">Retiros</th><th rowspan="1" colspan="1">Saldo</th><th rowspan="1" colspan="1">DescripcionDetallada</th><th rowspan="1" colspan="1">Tipo De Gasto</th><th rowspan="1" colspan="1">Proveedor</th><th rowspan="1" colspan="1">Cliente</th><th rowspan="1" colspan="1">Acciones</th></tr>
      </tfoot>
      <tbody>

      <!-- <tr role="row" class="odd" *ngFor="let inv of vm.pageable.content"> -->
      <tr role="row" class="odd" *ngFor="let inv of transactions">
              <!-- <td class="sorting_1">{{inv.id}}</td> -->
              <td class="sorting_1">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" readonly class="custom-control-input" [checked]="inv.enabled"
                    id="{{inv.id}}" name="example1" [(ngModel)]="inv.enabled" (change)="isAllSelected()">
                  <label class="custom-control-label" for="{{inv.id}}"></label>
                </div>
              </td>

              <td>{{inv.date | date:'yyyy/MM/dd'}}</td>
              <td>{{inv.dateTransactions | date:'yyyy/MM/dd'}}</td>
              <td>{{inv.accountNumber}}</td>
              <td>{{inv.reference}}</td>
              <td>{{inv.movement}}</td>
              <!-- <td>
                <textarea class="form-control rounded-0" (blur)="typeOfCost(inv)" [(ngModel)]="inv.description" id="description" cols="300" rows="2"></textarea>
              </td> -->
              <td>{{inv.deposit |currency}}</td>
              <td>{{inv.bankWithdrawals | currency}}</td>
              <td>{{inv.balance | currency}}</td>
              <td>
                <textarea class="form-control rounded-0" (blur)="typeOfCost(inv)" [(ngModel)]="inv.details" id="description" cols="300" rows="2"></textarea>
              </td>
              <td>
                 <select (change)="typeOfCost(inv)" name="miselect" [(ngModel)]="inv.typeOfExpense">
                <option [value]="item.expense" *ngFor="let item of expenseType">{{item.expense}}</option>
                </select>
              </td>
              <td>
                  <select (change)="typeOfCost(inv)" name="miselect" [(ngModel)]="inv.supplierName">
                <option value=""></option>
                <option [value]="item.company" *ngFor="let item of suppliers">{{item.company}}</option>
                </select>
              </td>
              <td> <select (change)="typeOfCost(inv)" name="miselect" [(ngModel)]="inv.customerName">
                <option value=""></option>
                <option [value]="item.company" *ngFor="let item of customers">{{item.company}}</option>
                </select>
              </td>
              <td>
                <button class="btn btn-primary btn-sm" (click)="detail(inv)">detalle</button>
                <button class="btn btn-danger btn-sm" (click)="edit(inv)">editar</button>

              </td>
            </tr>
      </tbody>
  </table>
  <!-- <div class="dataTables_info" id="example23_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div> -->
  <!-- <div class="dataTables_paginate paging_simple_numbers" id="example23_paginate"><a class="paginate_button previous disabled" aria-controls="example23" data-dt-idx="0" tabindex="0" id="example23_previous">Previous</a><span><a class="paginate_button current" aria-controls="example23" data-dt-idx="1" tabindex="0">1</a><a class="paginate_button " aria-controls="example23" data-dt-idx="2" tabindex="0">2</a><a class="paginate_button " aria-controls="example23" data-dt-idx="3" tabindex="0">3</a><a class="paginate_button " aria-controls="example23" data-dt-idx="4" tabindex="0">4</a><a class="paginate_button " aria-controls="example23" data-dt-idx="5" tabindex="0">5</a><a class="paginate_button " aria-controls="example23" data-dt-idx="6" tabindex="0">6</a></span><a class="paginate_button next" aria-controls="example23" data-dt-idx="7" tabindex="0" id="example23_next">Next</a>
  </div> -->
  <app-bank-paginator [url]="url"  [totalPages]="vm.pageable.totalPages" [first]="vm.pageable.first" [number]="vm.pageable.number" [last]="vm.pageable.last" [orderBy]="orderBy" [sortBy]="sortBy"></app-bank-paginator>

<!-- </div> -->
</div>

<app-modal-bank-trans></app-modal-bank-trans>



